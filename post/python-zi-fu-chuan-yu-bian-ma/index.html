<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Python 字符串与编码 | 链 求 君</title>
<meta name="description" content="Lsy 的个人网站">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="shortcut icon" href="https://aturx.github.io//favicon.ico?v=1605066734000">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://unpkg.com/papercss@1.6.1/dist/paper.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://aturx.github.io//styles/main.css">


<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>


<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />


  </head>
  <body>
  
    <nav class="navbar border fixed split-nav">
  <div class="nav-brand">
    <h3><a href="https://aturx.github.io/">链 求 君</a></h3>
  </div>
  <div class="collapsible">
    <input id="collapsible1" type="checkbox" name="collapsible1">
    <button>
      <label for="collapsible1">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </label>
    </button>
    <div class="collapsible-body">
      <ul class="inline">
        
          <li>
            
              <a href="/" class="menu">
                首页
              </a>
            
          </li>
        
          <li>
            
              <a href="/archives" class="menu">
                归档
              </a>
            
          </li>
        
          <li>
            
              <a href="/tag/c2EZW6nSY/" class="menu">
                推荐
              </a>
            
          </li>
        
          <li>
            
              <a href="/tag/VX2ta3-Q1O/" class="menu">
                代码
              </a>
            
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div id="top" class="row site">
      <div class="sm-12 md-8 col">
        <div class="paper">
          <article class="article">
            <h1>Python 字符串与编码</h1>
            <p class="article-meta">
              2020-05-09
              
                <a href="https://aturx.github.io/tag/BYEPncV_B" class="badge ">
                  Python
                </a>
              
            </p>
            
            <div class="post-content">
              <h1 id="比特bit">比特（bit）</h1>
<p>计算机只能处理数字，如果要处理文本，就必须先把文本转换为数字才能处理，bit是计算机的最小单位。</p>
<h1 id="字节byte">字节（byte）</h1>
<p>最早的计算机在设计时采用8个比特（bit）作为一个字节（byte），一个字节能表示的最大的整数就是255（二进制11111111=十进制255）</p>
<h1 id="ascii-编码">ASCII 编码</h1>
<p>计算机最早发明，通用语言是英语，所以采用127个字符，表示大小写英文字母、数字和一些符号就足够了。这个编码表，就是<code>ASCII</code>编码，比如<code>A</code> 编码是<code>65</code>.<br>
用一个字节（<code>0~255</code>）就能够表示。</p>
<p>但是，对于其国家他语言来说，光常用的中文汉字就几千个，还有其他韩语、日语等等，一个字节（<code>0~255</code>）陷入是不够的，至少两个字节（<code>0~65535</code>），还不能和<code>ASCII</code>编码冲突，中国制定自己的<code>GB2312</code>编码,日文<code>Shift_JIS</code>,韩文<code>Euc-k</code>,各国各自的标准自然会出现冲突，所以多语言混合的内容中，经常会看到乱码出现。</p>
<p>为了解决这个问题，出现了Unicode（万国码）编码。</p>
<h1 id="unicode-编码">Unicode 编码</h1>
<p>Unicode把所有语言都统一到一套编码里，这样就不会再有乱码问题了。现代操作系统和大多数编程语言都直接支持Unicode。最常用的是用两个字节（<code>0~65535</code>）表示一个字符（如果要用到非常偏僻的字符，就需要4个字节(<code>0~4294967295</code>)）</p>
<p>乱码问题解决了，但是新的问题是，如果统一采用<code>Unicode</code>编码，存储将会是<code>ASCII</code>编码的至少两倍。</p>
<p>本着节约的精神，又出现了把<code>Unicode</code>编码转化为“可变长编码”的<code>UTF-8</code>编码。</p>
<h1 id="utf-8-编码">UTF-8 编码</h1>
<p>UTF-8编码把一个Unicode字符根据不同的数字大小编码成1-6个字节，常用的英文字母被编码成1个字节，汉字通常是3个字节，只有很生僻的字符才会被编码成4-6个字节。如果你要传输的文本包含大量英文字符，用UTF-8编码就能节省空间。</p>
<p>实际使用时，根据场景决定使用Unicode 还是 UTF-8，计算机内存中，统一使用Unicode编码（统一编码），当需要保存到硬盘或者需要传输的时候（节约空间），就转换为UTF-8编码。</p>
<h1 id="python-字符串">Python 字符串</h1>
<p>在Python 3版本中，把'xxx'和u'xxx'统一成Unicode编码，即写不写前缀u都是一样的。</p>
<p>在Python 3版本中，所有的字符串都是使用Unicode编码的字符串序列。</p>
<p>Python 3最重要的新特性之一是对字符串和二进制数据流做了明确的区分。文本总是 Unicode，由 str 类型表示，二进制数据则由 bytes 类型表示。</p>
<p>Python的字符串类型是str，在内存中以Unicode表示，一个字符对应若干个字节。如果要在网络上传输，或者保存到磁盘上，就需要把str变为以字节为单位的bytes。</p>
<p>Unicode表示的str通过encode()方法可以编码为指定的bytes，例如：</p>
<pre><code>str 转换成 bytes：

&gt;&gt;&gt; 'ABC'.encode('ascii')
b'ABC'     # 3个字节
&gt;&gt;&gt; '中文'.encode('utf-8')
b'\xe4\xb8\xad\xe6\x96\x87'  # 6个字节


# 1个中文字符经过UTF-8编码后通常会占用3个字节，而1个英文字符只占用1个字节。


bytes 转换成 str：

&gt;&gt;&gt; b'ABC'.decode('ascii')
'ABC'
&gt;&gt;&gt; b'\xe4\xb8\xad\xe6\x96\x87'.decode('utf-8')
'中文

#  在bytes中，无法显示为ASCII字符的字节，用\x##显示 （\x## 是一个字节）

</code></pre>

            </div>
          </article>
        </div>
        <div class="paper" data-aos="fade-in">
          
            <div class="next-post">
              <div class="next">
                下一篇
              </div>
              <a href="https://aturx.github.io/post/zui-xiao-de-flask-web-ying-yong">
                <h3 class="post-title">
                  最小的Flask Web应用
                </h3>
              </a>
            </div>
          
        </div>
        
      </div>

      <div class="sm-12 md-4 col sidebar">
  <div class="paper info-container">
    <img src="https://aturx.github.io//images/avatar.png?v=1605066734000" class="no-responsive avatar">
    <div class="text-muted">Lsy 的个人网站</div>
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      最新文章
    </div>
    <div class="row">
      <ul>
        
          
            <li>
              <a href="https://aturx.github.io/post/yi-tai-fang-kai-fa-jian-jie">以太坊开发简介</a>
            </li>
          
        
          
            <li>
              <a href="https://aturx.github.io/post/shi-me-shi-zhi-neng-he-yue-ji-qi-yun-zuo-fang-shi">什么是智能合约及其运作方式？</a>
            </li>
          
        
          
            <li>
              <a href="https://aturx.github.io/post/shi-me-shi-yi-tai-fang-20-ji-qi-chong-yao-xing">什么是以太坊2.0及其重要性？</a>
            </li>
          
        
          
            <li>
              <a href="https://aturx.github.io/post/shi-me-shi-decentraland">什么是Decentraland？</a>
            </li>
          
        
          
            <li>
              <a href="https://aturx.github.io/post/git-gong-neng-fen-zhi-gong-zuo-liu-shi-jian">Git功能分支工作流实践</a>
            </li>
          
        
          
            <li>
              <a href="https://aturx.github.io/post/about">AboutMe</a>
            </li>
          
        
          
            <li>
              <a href="https://aturx.github.io/post/git-ji-zhong-shi-gong-zuo-liu-shi-jian">Git集中式工作流实践</a>
            </li>
          
        
          
            <li>
              <a href="https://aturx.github.io/post/shi-me-shi-aragon">什么是Aragon？</a>
            </li>
          
        
          
            <li>
              <a href="https://aturx.github.io/post/mo-ke-er-shu-merkle-trees">默克尔树（Merkle Trees）</a>
            </li>
          
        
          
            <li>
              <a href="https://aturx.github.io/post/liang-zi-ji-suan-he-jia-mi-huo-bi">量子计算和加密货币</a>
            </li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </ul>
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      标签列表
    </div>
    <div class="row">
      
        <a href="https://aturx.github.io/tag/zjY9xqWey" class="badge ">
          区块链开发
        </a>
      
        <a href="https://aturx.github.io/tag/pJWTDQOmu" class="badge ">
          区块链周刊
        </a>
      
        <a href="https://aturx.github.io/tag/0OvoQnRh4" class="badge secondary">
          GitHub
        </a>
      
        <a href="https://aturx.github.io/tag/1ouSyFvRE" class="badge warning">
          以太坊
        </a>
      
        <a href="https://aturx.github.io/tag/ytQzP-m0v" class="badge success">
          区块链
        </a>
      
        <a href="https://aturx.github.io/tag/BYEPncV_B" class="badge ">
          Python
        </a>
      
        <a href="https://aturx.github.io/tag/i4Ywa6glq" class="badge secondary">
          ENS
        </a>
      
        <a href="https://aturx.github.io/tag/raV49g8qT" class="badge warning">
          Flask
        </a>
      
        <a href="https://aturx.github.io/tag/VX2ta3-Q1O" class="badge ">
          代码
        </a>
      
        <a href="https://aturx.github.io/tag/Zhe5lS2wh" class="badge secondary">
          Docker
        </a>
      
        <a href="https://aturx.github.io/tag/HYJR1J4Qk" class="badge ">
          SEO
        </a>
      
        <a href="https://aturx.github.io/tag/9wy5EMwvU" class="badge ">
          Java
        </a>
      
        <a href="https://aturx.github.io/tag/c2EZW6nSY" class="badge secondary">
          善用佳软
        </a>
      
        <a href="https://aturx.github.io/tag/uzZ16I6hq" class="badge secondary">
          测试
        </a>
      
        <a href="https://aturx.github.io/tag/u6Gn7YGdL" class="badge success">
          个人成长
        </a>
      
        <a href="https://aturx.github.io/tag/WJiT_obGT" class="badge success">
          我
        </a>
      
        <a href="https://aturx.github.io/tag/Utp9E6V0u" class="badge warning">
          开发工具
        </a>
      
    </div>
  </div>
  <div class="paper">
    Powered by <a href="https://github.com/aturX" target="_blank">AturX</a>  | <a class="rss" href="https://aturx.github.io//atom.xml" target="_blank">RSS</a>
  </div>
</div>


    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

</script>




  </body>
</html>
